'use strict';

var errorResponse = {
	"E501" : "Request JSON payload is not valid",
	"E502" : "Email address is not valid",
	"E503" : "Mobile number is not valid",
	"E504" : "Something went wrong, retry after sometime",
	"E505" : "Get all customer details failed",
	"E506" : "Get customer details failed",
	"E507" : "Add new customer details failed",
	"E508" : "Update customer details failed",
	"E509" : "Delete customer details failed",
	"E510" : "Customer ID is required",
	"E511" : "Customer ID is already taken",

	"E512" : "Get all user details failed",
	"E513" : "Add new user details failed",
	"E514" : "Username and password is required",
	"E515" : "USername or password is not valid",
	"E516" : "Failed to authenticate token"

};

var successResponse = {
	"S201" : "Customer added successfully",
	"S202" : "Get customer details success",
	"S203" : "Update customer details success",
	"S204" : "Delete customer details success",
	"S205" : "No customer details found",
	"S206" : "No user details found",
	"S207" : "Get users details success",
	"S208" : "User added successfully",
	"S209" : "User authenticated successfully",
	"S210" : "Delete all users success",

}

/**
 * send response (success/failure)
 * @params object: response, json: data
 * @returns
*/
function send(res,data) {

	if(data.type === 'success') {
		data.message =  successResponse[data.code];
		res.writeHead(200, {"Content-Type": "application/json"});
	} else if(data.type === 'error') {
		data.message =  errorResponse[data.code];
		res.writeHead(401, {"Content-Type": "application/json"});
	}
	res.write(JSON.stringify(data));
	res.end();

}

exports.send = send;
